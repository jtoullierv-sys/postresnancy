<ion-content class="ion-padding">

  <ion-segment [value]="segmento" (ionChange)="cambiarSegmento($event)" class="ion-margin-bottom">
    <ion-segment-button value="activos">Activos</ion-segment-button>
    <ion-segment-button value="cancelados">Cancelados</ion-segment-button>
    <ion-segment-button value="finalizados">Finalizados</ion-segment-button>
  </ion-segment>

  <!-- üü¢ PEDIDOS ACTIVOS -->
  <ng-container *ngIf="segmento === 'activos'">
    <ion-card *ngFor="let pedido of pedidosActivos; let i = index" class="ion-margin-bottom">
      <ion-card-header>
        <ion-card-title>üç∞ Pedido #{{ i + 1 }}</ion-card-title>
      </ion-card-header>

      <ion-card-content>
        <ion-list lines="none" class="ion-text-center">
          <ion-item *ngFor="let etapa of etapas; let paso = index">
            <ion-badge [color]="obtenerColor(pedido.estado, paso + 1)">
              {{ paso + 1 }}
            </ion-badge>
            <ion-label>{{ etapa }}</ion-label>
          </ion-item>
        </ion-list>

        <div class="ion-text-center ion-margin-top">
          <ion-button fill="outline" color="primary" (click)="verRecibo(pedido.id)">
            <ion-icon slot="start" name="receipt-outline"></ion-icon>
            Ver Recibo
          </ion-button>
          <ion-button fill="outline" color="danger" (click)="cancelarPedido(pedido.id)">
            <ion-icon slot="start" name="trash"></ion-icon>
            Cancelar
          </ion-button>
        </div>
      </ion-card-content>
    </ion-card>
  </ng-container>

  <!-- üî¥ PEDIDOS CANCELADOS -->
  <ng-container *ngIf="segmento === 'cancelados'">
    <ion-card *ngFor="let pedido of pedidosCancelados">
      <ion-card-header>
        <ion-card-title>Pedido Cancelado #{{ pedido.id }}</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <p class="ion-text-center">Este pedido fue cancelado.</p>
      </ion-card-content>
    </ion-card>
  </ng-container>

  <!-- üü¢ PEDIDOS FINALIZADOS -->
  <ng-container *ngIf="segmento === 'finalizados'">
    <ion-card *ngFor="let pedido of pedidosFinalizados">
      <ion-card-header>
        <ion-card-title>Pedido Finalizado #{{ pedido.id }}</ion-card-title>
      </ion-card-header>
      <ion-card-content class="ion-text-center">
        <ion-button fill="outline" color="success" (click)="reclamarPedido(pedido.id)">
          <ion-icon slot="start" name="alert-circle-outline"></ion-icon>
          Reclamar
        </ion-button>
      </ion-card-content>
    </ion-card>
  </ng-container>

</ion-content>